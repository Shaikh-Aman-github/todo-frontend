{"ast":null,"code":"var _jsxFileName = \"/home/aman/Desktop/CC/todo-react/src/component/Tasks.js\";\nimport React, { Component } from \"react\";\nimport { getitems, getTasks, updateTask, deleteTask } from \"./Service\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Tasks extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      tasks: [],\n      currentTask: \"\"\n    };\n\n    this.handleChange = _ref => {\n      let {\n        currentTarget: input\n      } = _ref;\n      this.setState({\n        currentTask: input.value\n      });\n    };\n\n    this.handleSubmit = async e => {\n      e.preventDefault();\n      const originalTasks = this.state.tasks;\n\n      try {\n        const {\n          data\n        } = await addTask({\n          task: this.state.currentTask\n        });\n        const tasks = originalTasks;\n        tasks.push(data);\n        this.setState({\n          tasks,\n          currentTask: \"\"\n        });\n      } catch (error) {\n        console.log(error);\n      }\n    };\n\n    this.handleUpdate = async currentTask => {\n      const originalTasks = this.state.tasks;\n\n      try {\n        const tasks = [...originalTasks];\n        const index = tasks.findIndex(task => task._id === currentTask);\n        tasks[index] = { ...tasks[index]\n        };\n        tasks[index].completed = !tasks[index].completed;\n        this.setState({\n          tasks\n        });\n        await updateTask(currentTask, {\n          completed: tasks[index].completed\n        });\n      } catch (error) {\n        this.setState({\n          tasks: originalTasks\n        });\n        console.log(error);\n      }\n    };\n\n    this.handleDelete = async currentTask => {\n      const originalTasks = this.state.tasks;\n\n      try {\n        const tasks = originalTasks.filter(task => task._id !== currentTask);\n        this.setState({\n          tasks\n        });\n        await deleteTask(currentTask);\n      } catch (error) {\n        this.setState({\n          tasks: originalTasks\n        });\n        console.log(error);\n      }\n    };\n  }\n\n  async componentDidMount() {\n    try {\n      const {\n        data\n      } = await getTasks();\n      this.setState({\n        tasks: data\n      });\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default Tasks;","map":{"version":3,"names":["React","Component","getitems","getTasks","updateTask","deleteTask","Tasks","state","tasks","currentTask","handleChange","currentTarget","input","setState","value","handleSubmit","e","preventDefault","originalTasks","data","addTask","task","push","error","console","log","handleUpdate","index","findIndex","_id","completed","handleDelete","filter","componentDidMount","render"],"sources":["/home/aman/Desktop/CC/todo-react/src/component/Tasks.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport { getitems, getTasks, updateTask, deleteTask } from \"./Service\";\n\nclass Tasks extends Component{\n    state = {\n        tasks: [],\n        currentTask: \"\"\n    }\n\n    async componentDidMount(){\n        try {\n            const {data} = await getTasks();\n            this.setState({tasks: data});\n        } catch (error) {\n            console.log(error);\n        }\n    }\n\n    handleChange = ({currentTarget: input}) =>{\n        this.setState({currentTask: input.value});\n    }\n\n    handleSubmit = async (e) =>{\n        e.preventDefault();\n        const originalTasks = this.state.tasks;\n        try {\n            const {data} = await addTask({task: this.state.currentTask});\n            const tasks = originalTasks;\n            tasks.push(data);\n            this.setState({tasks, currentTask: \"\"});\n        } catch (error) {\n            console.log(error);\n        }\n    }\n    \n    handleUpdate = async (currentTask) =>{\n        const originalTasks = this.state.tasks;\n        try {\n            const tasks = [...originalTasks];\n            const index = tasks.findIndex((task) => task._id === currentTask);\n            tasks[index] = {...tasks[index]};\n            tasks[index].completed = !tasks[index].completed;\n            this.setState({tasks});\n            await updateTask(currentTask, {completed: tasks[index].completed})\n        } catch (error) {\n            this.setState({tasks: originalTasks});\n            console.log(error);\n        }\n\n    }\n\n    handleDelete = async (currentTask) =>{\n        const originalTasks = this.state.tasks;\n        try {\n            const tasks = originalTasks.filter(\n                (task) => task._id !== currentTask\n            );\n            this.setState({tasks});\n            await deleteTask(currentTask);\n        } catch (error) {\n            this.setState({tasks: originalTasks});\n            console.log(error);\n        }\n        \n    }\n\n    render(){\n        return(\n            <div>\n\n            </div>\n        );\n    }\n}\n\nexport default Tasks;"],"mappings":"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"},"metadata":{},"sourceType":"module"}